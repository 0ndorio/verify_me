<!DOCTYPE html>
<html lang = "en">
<head>
   <meta charset = "utf-8">
   <title> Pseudonym Request Client </title>
   <link rel = "stylesheet" href="{{ static_url("css/style.css") }}">
   <script data-main="js/app" src="{{ static_url("js/lib/require.js") }}"></script>
</head>
<body>
   <form>
      <div>
         <p>Token: </p>
         <textarea id = "token_textarea" cols = "100" rows = "3"
                   placeholder = "Please enter here your token."></textarea>
      </div>
      <div>
         <p>Public Key: </p>
         <textarea id = "public_key_textarea" cols = "100" rows = "50"
                   placeholder = "Please enter here your public key."></textarea>
      </div>
      <button type = "button"
              id = "activate_pseudonym_button"> Activate Pseudonym
      </button>
   </form>
   <pre id="server_public_key"> {{ escape(public_key) }} </pre>
   <script>

      function SERVER_PUBLIC_KEY_STRING()
      {
         var key_string = document.getElementById("server_public_key").innerHTML;

         if (typeof key_string === "string") {
            key_string = key_string.trim()
         } else {
            throw new Error("Couldn't load the server public key. Please reload.");
         }

         return key_string;
      }
  </script>
</body>
</html>
